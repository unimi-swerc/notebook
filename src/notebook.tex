\documentclass[8pt,a4paper,landscape,oneside]{amsart}
\usepackage[utf8]{inputenc}

\usepackage{amsmath, amsthm, amssymb, amsfonts}
\usepackage[italian]{babel}
\usepackage[scaled]{beramono}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{color}
\usepackage{datetime}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{float}
\usepackage{fullpage}
\usepackage[top=3pt, bottom=1cm, left=0.3cm, right=0.3cm]{geometry}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage[cache=false]{minted}
\usepackage{multicol}
\usepackage{subcaption}
\usepackage{titling}
\usepackage{luacode}

\newcommand{\subtitle}[1]{\posttitle{\par\end{center}\begin{center}\large#1\end{center}\vskip0.1em\vspace{-1em}}}

% Minted
\newcommand{\code}[1]{\inputminted[fontsize=\normalsize,baselinestretch=1,xleftmargin=2.5em,linenos]{cpp}{#1}}

% Header/Footer
\pagestyle{fancy}
\lhead{Università degli Studi di Milano - LaStatale Yellow}
\rhead{\thepage}
\cfoot{}
\setlength{\headheight}{15.2pt}
\setlength{\droptitle}{-20pt}
\posttitle{\par\end{center}}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% Math and bit operators
\DeclareMathOperator{\lcm}{lcm}
\newcommand*\BitAnd{\mathrel{\&}}
\newcommand*\BitOr{\mathrel{|}}
\newcommand*\ShiftLeft{\ll}
\newcommand*\ShiftRight{\gg}
\newcommand*\BitNeg{\ensuremath{\mathord{\sim}}}
\DeclareRobustCommand{\stirling}{\genfrac\{\}{0pt}{}}

% Title/Author
\title{Università degli Studi di Milano - LaStatale Yellow}
\subtitle{Team Reference Document}
\date{\ddmmyyyydate{\today{}}}

\begin{document}
\begin{multicols*}{3}
\maketitle
\thispagestyle{fancy}
\vspace{-3em}
\tableofcontents

\begin{luacode*}

current_dir = lfs.currentdir() .. "/src"
for section in lfs.dir(current_dir) do
    if not section:find("%.") then
        section_dir = current_dir .. "/" .. section
        tex.print("\\section{" .. section .. "}")
        for subsection in lfs.dir(section_dir) do
            if subsection:find("%.cpp$") and not subsection:find("%.test%.cpp$") then
                subsection_dir = section_dir .. "/" .. subsection
                tex.print("\\subsection{" .. subsection .. "}")
                tex.print("\\code{" .. subsection_dir:gsub("%s", "\\%1") .. "}")
            end
        end
    end
end

\end{luacode*}

\section{Teoria}
$1^4+...+n^4=n(n+1)(2n+1)(3n^2+3n-1)/30 \\
970592641(31), 31443539979727(45), 3006703054056749(52)\\
D(n)=nD(n-1)+(-1)^n, C(n)=\binom{2n}{n}-\binom{2n}{n+1}=\frac{1}{n+1}\binom{2n}{n} \\
c(n,k) = c(n-1,k-1) + (n-1) c(n-1,k),\ c(0,0) = 1 \\
S(n,k) = S(n-1,k-1) + k S(n-1,k),\ S(n,1) = S(n,n) = 1
$
\end{multicols*}
\end{document}
